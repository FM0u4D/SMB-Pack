<svg width="1200" height="520" viewBox="0 0 1200 520" xmlns="http://www.w3.org/2000/svg" font-family="Inter, Arial, Helvetica, sans-serif">

  <!-- Background -->
  <rect width="1200" height="520" fill="#0d1117"></rect>

  <!-- Title -->
  <text x="600" y="32" text-anchor="middle" fill="#f0f6fc" font-size="18" font-weight="600">
    Secure SMB File Sharing over WireGuard (Multi-VM Architecture)
  </text>

  <!-- ================= WINDOWS CLIENT ================= -->
  <rect x="40" y="200" width="240" height="120" rx="10" fill="#161b22" stroke="#58a6ff" stroke-width="2"></rect>
  <text x="160" y="235" text-anchor="middle" fill="#e6edf3" font-size="14" font-weight="600">
    Windows Client
  </text>
  <text x="160" y="255" text-anchor="middle" fill="#8b949e" font-size="12">
    SMB Client / Explorer
  </text>
  <text x="160" y="275" text-anchor="middle" fill="#8b949e" font-size="11">
    No public SMB access
  </text>

  <!-- ================= WIREGUARD VM ================= -->
  <rect x="380" y="140" width="360" height="240" rx="14" fill="#161b22" stroke="#2ea043" stroke-width="2"></rect>
  <text x="560" y="165" text-anchor="middle" fill="#f0f6fc" font-size="15" font-weight="600">
    WireGuard VPN VM
  </text>

  <rect x="420" y="200" width="280" height="90" rx="8" fill="#0b1f33" stroke="#2ea043" stroke-width="2"></rect>
  <text x="560" y="235" text-anchor="middle" fill="#e6edf3" font-size="13">
    WireGuard Interface
  </text>
  <text x="560" y="255" text-anchor="middle" fill="#8b949e" font-size="11">
    Encrypted tunnel — 10.8.0.0/24
  </text>

  <!-- ================= VM-RESUME ================= -->
  <rect x="820" y="100" width="340" height="300" rx="14" fill="#161b22" stroke="#f0f6fc" stroke-width="2"></rect>
  <text x="990" y="125" text-anchor="middle" fill="#f0f6fc" font-size="15" font-weight="600">
    vm-resume (Application VM)
  </text>

  <!-- UFW -->
  <rect x="850" y="160" width="280" height="60" rx="8" fill="#331c1f" stroke="#f85149" stroke-width="2"></rect>
  <text x="990" y="195" text-anchor="middle" fill="#e6edf3" font-size="13">
    UFW Firewall
  </text>
  <text x="990" y="212" text-anchor="middle" fill="#8b949e" font-size="11">
    SMB (445) allowed only via VPN
  </text>

  <!-- Samba -->
  <rect x="850" y="240" width="280" height="70" rx="8" fill="#161b22" stroke="#58a6ff" stroke-width="2"></rect>
  <text x="990" y="275" text-anchor="middle" fill="#e6edf3" font-size="13">
    Samba Server (SMB2 / SMB3)
  </text>
  <text x="990" y="292" text-anchor="middle" fill="#8b949e" font-size="11">
    /srv/samba/public
  </text>

  <!-- Nginx -->
  <rect x="850" y="330" width="280" height="50" rx="8" fill="#0b1f33" stroke="#8b949e" stroke-width="1.5"></rect>
  <text x="990" y="360" text-anchor="middle" fill="#e6edf3" font-size="12">
    Nginx (Cloudflare-exposed)
  </text>

  <!-- ================= CONNECTIONS ================= -->

  <!-- Windows → WireGuard -->
  <line x1="280" y1="260" x2="380" y2="260" stroke="#2ea043" stroke-width="3" marker-end="url(#arrow)"></line>
  <text x="330" y="245" text-anchor="middle" fill="#2ea043" font-size="11">
    Encrypted VPN
  </text>

  <!-- WireGuard → vm-resume -->
  <line x1="740" y1="260" x2="820" y2="260" stroke="#2ea043" stroke-width="3" marker-end="url(#arrow)"></line>
  <text x="780" y="245" text-anchor="middle" fill="#2ea043" font-size="11">
    Private Network
  </text>

  <!-- Arrow Marker -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="10" refY="5" orient="auto">
      <polygon points="0 0, 10 5, 0 10" fill="#2ea043"></polygon>
    </marker>
  </defs>

  <!-- ================= FOOTNOTE ================= -->
  <text x="600" y="500" text-anchor="middle" fill="#8b949e" font-size="11">
    SMB is never exposed publicly • Access enforced through VPN, firewall, and filesystem permissions
  </text>

</svg>
